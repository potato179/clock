<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
        <title>시계</title>
        <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Nanum+Gothic:wght@700&display=swap" rel="stylesheet">
	</head>
    <body style = "font-family: 'Nanum Gothic', sans-serif; background: black; color: lime; text-align:center">
        <br><br><br><br><br><br>
        <p style = "font-size: 450%">현재 구형 Safari와 IE에서 시계가 보이지 않습니다. 곧 수정하겠습니다.</p>
        <span id = "date" style = "font-size: 450%;"></span><br>
        <span id = "time" style = "font-size: 750%;"></span><br><br><br>
        <br><br><br>
        <span id = "goodbyeFlash" style = "font-size: 250%;"></span><br><br><br><br><br><br>
        <span id = "secret" style = "font-size: 0.1%;"></span>

		<script>
            var date = document.getElementById("date");
            var time = document.getElementById("time");
            function updateDate() {
                var d = new Date();
                var week = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
                var r = "";
                r += d.getYear() + 1900 + "년 ";
                r += d.getMonth() + 1 + "월 ";
                r += d.getDate() + "일 ";
                r += "(" + week[d.getDay()] + ")"
				date.textContent = r;
				setTimeout(updateDate, 999 - d.getTime() % 1000 + 20);
			}
			function updateTime() {
				var d = new Date();
                var s = "";
                s += d.getHours() >= 12 ? "오후 " : "오전 ";
				s += ((d.getHours() + 11) % 12 + 1) + ":";
				s += (10 > d.getMinutes() ? "0" : "") + d.getMinutes() + ":";
				s += (10 > d.getSeconds() ? "0" : "") + d.getSeconds();
				time.textContent = s;
				setTimeout(updateTime, 1000 - d.getTime() % 1000 + 20);
			}
            updateDate();
            updateTime();
            
            function goodbyeFlash(dt, id){
                var countDownDate = new Date("Jan 1, 2021 00:00:00").getTime();
                var x = setInterval(function() {
                    var now = new Date().getTime();
                    var distance = countDownDate - now;
                    var days = Math.floor(distance / (1000 * 60 * 60 * 24));
                    var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var seconds = Math.floor((distance % (1000 * 60)) / 1000);
                        
                    document.getElementById("goodbyeFlash").innerHTML = "2021년까지..." + "<br>" + days + "일 " + hours + "시간 " + minutes + "분 " + seconds + "초";
                        
                    if (distance < 0) {
                        clearInterval(x);
                        document.getElementById("goodbyeFlash").innerHTML = "2021년 새해 복 많이 받으세요!";
                    }
                }, 1000);
            }
            goodbyeFlash();

            function secret(){
                var firstDay = new Date("July 22, 2020 22:54:00").getTime();
                var x = setInterval(function(){
                    var now = new Date().getTime();
                    var distance = now - firstDay;
                    var d = Math.floor(distance / (1000 * 60 * 60 * 24)) + 1;
                    var h = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    var m = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                    var s = Math.floor((distance % (1000 * 60)) / 1000);
                    document.getElementById("secret").innerHTML = `♥+ ${d}일 ${h}시간 ${m}분 ${s}초`; 
                });
            }
            secret();
		</script>
	</body>
</html>